<h1>Modifier une résidence</h1>
<hr />
<form action="/admin/residencies-update/<%= residency._id %>" method="POST" enctype="multipart/form-data">
  <h2>Informations concernant le collectif</h2>

  <label for="collective_name">Nom du collectif</label>
  <input type="text" id="collective_name" name="collective_name" value="<%= residency.collective_name %>" required />

  <label for="residency_name">Nom du projet</label>
  <input type="text" id="residency_name" name="residency_name" value="<%= residency.residency_name %>" required />

  <label for="residency_start">Début de résidence</label>
  <input type="date" id="residency_start" name="residency_start" value="<%= residency.residency_start.toISOString().split('T')[0] %>" required />
  
  <label for="residency_end">Fin de résidence</label>
  <input type="date" id="residency_end" name="residency_end" value="<%= residency.residency_end.toISOString().split('T')[0] %>" required />
  


  <label for="description">Description du projet</label>
  <textarea id="description" name="description" required><%= residency.description %></textarea>



  <h2>Visuel du collectif</h2>


  <%

let folderName = residency.collective_name.replace(/[^\w\s]/g, "").replace(/[^\w\s]/g, "").replace(/\s+/g, "_").toLowerCase();
folderName = folderName.toLowerCase()
const height = "auto";
const width = "25%";
%>


  <div class="img-form" style="display: flex; flex-direction: column; gap: 20px;">
    <label for="img0">Vignette Instagram (.jpg, .jpeg, .png)</label>
    <input class="img-input" type="file" id="img0" name="img0" accept=".jpg,.jpeg,.png" onchange="displayFileName('img0')" />
    <img src="<%= residency.images[0] %>" alt="//image missing" width=<%= width %> height=<%= height %>>
    <hr />

    <label for="img1">Visuel 1 (.jpg, .jpeg, .png)</label>
    <input class="img-input" type="file" id="img1" name="img1" accept=".jpg,.jpeg,.png" onchange="displayFileName('img1')" />
    <img src="<%= residency.images[1] %>" alt="//image missing" width=<%= width %> height=<%= height %>>
    <hr />

    <label for="img2">Visuel 2 (.jpg, .jpeg, .png)</label>
    <input class="img-input" type="file" id="img2" name="img2" accept=".jpg,.jpeg,.png" onchange="displayFileName('img2')" />
    <img src="<%= residency.images[2] %>" alt="//image missing" width=<%= width %> height=<%= height %>>
    <hr />
    
    <label for="img3">Visuel 3 (.jpg, .jpeg, .png)</label>
    <input class="img-input" type="file" id="img3" name="img3" accept=".jpg,.jpeg,.png" onchange="displayFileName('img3')" />
    <img src="<%= residency.images[3] %>" alt="//image missing" width=<%= width %> height=<%= height %>>
    <hr />
    
    <label for="img4">Visuel 4 (.jpg, .jpeg, .png)</label>
    <input class="img-input" type="file" id="img4" name="img4" accept=".jpg,.jpeg,.png" onchange="displayFileName('img4')" />
    <img src="<%= residency.images[4] %>" alt="//image missing" width=<%= width %> height=<%= height %>>
    <hr />
    
    <label for="img5">Visuel 5 (.jpg, .jpeg, .png)</label>
    <input class="img-input" type="file" id="img5" name="img5" accept=".jpg,.jpeg,.png" onchange="displayFileName('img5')" />
    <img src="<%= residency.images[5] %>" alt="//image missing" width=<%= width %> height=<%= height %>>
</div>



  <h2>Réseaux du collectif</h2>

  <label for="residency_insta">Instagram du collectif</label>
  <input type="text" id="residency_insta" name="residency_insta" value="<%= residency.residency_insta %>" />

  <label for="residency_facebook">Facebook du collectif</label>
  <input type="text" id="residency_facebook" name="residency_facebook" value="<%= residency.residency_facebook %>" />

  <label for="residency_youtube">Youtube du collectif</label>
  <input type="text" id="residency_youtube" name="residency_youtube" value="<%= residency.residency_youtube %>" />

  <label for="residency_website">Site Web du collectif</label>
  <input type="text" id="residency_website" name="residency_website" value="<%= residency.residency_website %>" />

  <h2>Artistes du collectif</h2>

  <% for (let i = 1; i <= 15; i++) { %>
    <label for="artist_name_<%= i %>">Artiste n°<%= i %> : Nom</label>
    <input type="text" id="artist_name_<%= i %>" name="artist_name_<%= i %>" value="<%= residency['artist_name_' + i] %>" />
  
    <label for="artist_url_<%= i %>">Artiste n°<%= i %> : URL</label>
    <input type="text" id="artist_url_<%= i %>" name="artist_url_<%= i %>" value="<%= residency['artist_url_' + i] %>" />
    <hr />
  <% } %>
  

  <button class="custom-button">Modifier la résidence</button>
</form>